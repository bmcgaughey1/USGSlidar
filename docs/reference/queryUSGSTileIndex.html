<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>USGS Lidar Toolkit -- Identify USGS Lidar Tiles Covering Area — queryUSGSTileIndex • USGSlidar</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="USGS Lidar Toolkit -- Identify USGS Lidar Tiles Covering Area — queryUSGSTileIndex" />
<meta property="og:description" content="Intersect a set of features (points or polygons) against a lidar
tile index to determine which tiles are needed to provide coverage for the
features." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">USGSlidar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/my-vignette.html">USGSlidar -- Basics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>USGS Lidar Toolkit -- Identify USGS Lidar Tiles Covering Area</h1>
    
    <div class="hidden name"><code>queryUSGSTileIndex.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Intersect a set of features (points or polygons) against a lidar
tile index to determine which tiles are needed to provide coverage for the
features.</p>
    </div>

    <pre class="usage"><span class='fu'>queryUSGSTileIndex</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>y</span>,
  buffer <span class='op'>=</span> <span class='fl'>0</span>,
  projectID <span class='op'>=</span> <span class='st'>""</span>,
  fieldname <span class='op'>=</span> <span class='st'>"project_id"</span>,
  shape <span class='op'>=</span> <span class='st'>"square"</span>,
  aoi <span class='op'>=</span> <span class='cn'>NA</span>,
  crs <span class='op'>=</span> <span class='st'>""</span>,
  index <span class='op'>=</span> <span class='st'>""</span>,
  segments <span class='op'>=</span> <span class='fl'>60</span>,
  return <span class='op'>=</span> <span class='st'>"index"</span>,
  returnType <span class='op'>=</span> <span class='st'>"Spatial"</span>,
  returncrs <span class='op'>=</span> <span class='st'>"same"</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Location easting for the center of the area-of-interest.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>Location northing for the center of the area-of-interest.</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>Distance in meters added or subtracted to <code>(x,y)</code>
to create the area-of-interest. Can be 0 when used with <code>(x,y)</code> to
return items providing coverage for point location(s). Can be a
vector of values corresponding to the number of objects in <code>aoi</code>
allowing a different buffer size for each object when <code>aoi</code> is a
<code>Spatial*</code> or <code>sf</code> object. <code>buffer</code> can be negative with
polygon features to reduce the area considered. However, you may end up
with weird shapes if the distance is larger than the width of the polygon.
Data in <code>(x,y)</code> and <code>aoi</code> are projected into the web mercator
coordinate reference system before the buffer operation is done so the
units for <code>buffer</code> are always meters.</p></td>
    </tr>
    <tr>
      <th>projectID</th>
      <td><p>Character string or list of character strings
containing the ID(s) for the lidar project(s). Typically obtained
by calling queryUSGSProjectIndex().</p></td>
    </tr>
    <tr>
      <th>fieldname</th>
      <td><p>Character string containing the name of the field to
use when querying the tile index.</p></td>
    </tr>
    <tr>
      <th>shape</th>
      <td><p>Character string describing the shape of the sample area in
the case of point features or the shape applied to the buffer corners
when using polygon features. Valid values are <code>"square"</code> or <code>"circle"</code>.</p></td>
    </tr>
    <tr>
      <th>aoi</th>
      <td><p><code>Spatial*</code> or <code>sf</code> object containing a point or polygon
describing the area of interest. Can be points or polygons.</p></td>
    </tr>
    <tr>
      <th>crs</th>
      <td><p>Valid <code>proj4string</code> string defining the coordinate
reference system of <code>(x,y)</code>. <code>crs</code> is required when using
<code>(x,y)</code>. <code>crs</code> is ignored when <code>aoi</code> is specified.</p></td>
    </tr>
    <tr>
      <th>index</th>
      <td><p>Index file for USGS lidar tiles If not provided, an index
previously specified by a call to <code>fetchUSGSProjectIndex</code> or
<code>setUSGSProjectIndex</code> will be used. If not provided and you have
not called <code>fetchUSGSTileIndex</code> or <code>setUSGSTileIndex</code>, the
function displays a warning and returns.</p></td>
    </tr>
    <tr>
      <th>segments</th>
      <td><p>Number of segments to use when generating a circular
area of interest. When using a <code>SpatialPoint*</code> or <code>sf</code> object
with <code>shape = "circle"</code>, set <code>segments</code> to a rather large value (60
or higher) that is a multiple of 4. The <code>gBuffer</code> function from
<code>rgeos</code> and <code>st_buffer</code> function from <code>sf</code> are used to
build the sample areas and it accepts the number of segments in a quarter
circle so small values for <code>segments</code> may not produce good circles.
Values for <code>segments</code> that are not a multiple of 4 will not
produce circles with the correct number of segments.</p></td>
    </tr>
    <tr>
      <th>return</th>
      <td><p>Character string specifying the kind of shapes to be
returned. Valid values are "<code>"aoi"</code> to return shapes for each
object in the <code>aoi</code> or the object defined by <code>(x,y)</code> and <code>buffer</code>
with additional attributes providing lidar project information and
<code>"index"</code> (default) to return tile shapes that provide coverage
for the features in the <code>"aoi"</code> or the area defined by <code>(x,y)</code>
and <code>buffer</code>. When tile shapes are returned there is no <code>"aoi"</code>
information included with the project shape attributes.</p></td>
    </tr>
    <tr>
      <th>returnType</th>
      <td><p>Character string specifying the object type for the
returned polygon object when <code>(x,y)</code> is used to specify the
area-of-interest. Valid values are <code>"Spatial"</code> or <code>"sf"</code>.
<code>returnType</code> is ignored when <code>aoi</code> is specified.</p></td>
    </tr>
    <tr>
      <th>returncrs</th>
      <td><p>Valid <code>proj4string</code> string defining the coordinate
reference system of the returned <code>SpatialPolygonsDataFrame</code> or
<code>sf</code> object. A value of <code>"same"</code> will project the return object
to the same coordinate reference system as <code>aoi</code> or to <code>crs</code> when
used with <code>(x,y)</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to <code>download.file</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>SpatialPolygonsDataFrame</code> or <code>sf</code> object containing
  polygon(s) and attribute(s) for tiles covering the specified area.
  Attributes for the <code>aoi</code> are placed first in the <code>data.frame</code>
  followed by attributes for the lidar tile polygons..</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Query the tile index to find tiles that intersect the <code>buffer</code>ed
  <code>(x,y)</code> point(s) or <code>buffer</code>ed feature(s) provided in <code>aoi</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>queryUSGSTileIndex</span><span class='op'>(</span><span class='op'>-</span><span class='fl'>13540901</span>, <span class='fl'>5806426</span>, <span class='fl'>180</span>, shape <span class='op'>=</span> <span class='st'>"circle"</span>,
  CRS <span class='op'>=</span> <span class='fu'>CRS</span><span class='op'>(</span>SRS_string<span class='op'>=</span><span class='st'>"EPSG:3857"</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Robert McGaughey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


